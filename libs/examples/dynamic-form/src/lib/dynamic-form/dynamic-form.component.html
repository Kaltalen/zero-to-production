<article class="example">
  <header class="example-description">
    <h2>{{ (example$ | async)?.title }}</h2>
    <p>{{ (example$ | async)?.description }}</p>
  </header>
  <aside class="example-demonstration">
    <h3>How to use</h3>
    <p>
      First, register the dynamic form module in the root AppModule. Here you
      provide a registry of what components you would like the form to render
      for each form element type. Optionally, you can provide custom error
      messages for each error type.
    </p>
    <p>
      NOTE: For convenience, a Material Design component registry is provided in
      <a
        target="_blank"
        rel="noreferrer noopener"
        href="https://github.com/unquenchablethyrst/zero-to-production/tree/master/libs/common/dynamic-form-material-components"
        >libs/common/dynamic-form-material-components</a
      >, but go ahead and make your own (and let me know how it goes).
    </p>
    <pre><code class="language-ts">{{ moduleRegistry }}</code></pre>
    <p>
      Each instance of the dynamic form is unique application wide identified by
      the <em>formName</em> property.
    </p>
    <p>
      Create a new form instance, then define and set the structure to render
      your form.
    </p>
    <pre><code class="language-ts">{{ setStructureMarkup }}</code></pre>
    <p>
      In you markup include the dynamic form component and set the
      <em>formName</em>
      property.
    </p>
    <pre><code class="language-html">{{ markup }}</code></pre>

    <p>
      The output of submitting the form is provided via an observable from the
      <em>DynamicFormsFacade</em>.
    </p>
    <pre><code class="language-ts">{{ submitSyntax }}</code></pre>
    <p>
      For a complete guide on how to make your own components, provide custom
      error messages and styling, please see the
      <a
        target="_blank"
        rel="noreferrer noopener"
        href="https://github.com/unquenchablethyrst/zero-to-production/tree/master/libs/common/dynamic-form"
        >dynamic form library</a
      >
    </p>

    <h3>Try it below</h3>
    <section class="form-config">
      <h4>Form Config</h4>
      <aside class="config">
        <button mat-raised-button (click)="setStructure(!simpleStructure)">
          {{ simpleStructure ? 'Form with Sections' : 'Simple Form' }}
        </button>
        <mat-slide-toggle (change)="toggleAnimations($event)"
          >Animations</mat-slide-toggle
        >
        <mat-slide-toggle (change)="togglePagination($event)"
          >Section Pagination</mat-slide-toggle
        >
      </aside>
      <h4>Rendered Form</h4>
      <app-dynamic-form [formName]="formName">
        <button mat-raised-button type="submit">Submit</button>
      </app-dynamic-form>
    </section>
    <h4>Submit Output</h4>
    <div class="output">
      <pre
        class="language-json"
      ><code class="language=json" [innerHtml]="submit$ | async | json | codeHighlight"></code></pre>
    </div>
  </aside>
</article>
